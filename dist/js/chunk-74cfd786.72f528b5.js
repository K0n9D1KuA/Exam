(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74cfd786","chunk-2d2133e5"],{"662c":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mod-config"},[a("el-form",{attrs:{inline:!0,model:e.dataForm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getDataList()}}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"参数名",clearable:""},model:{value:e.dataForm.key,callback:function(t){e.$set(e.dataForm,"key",t)},expression:"dataForm.key"}})],1),a("el-form-item",[a("el-button",{on:{click:function(t){return e.getDataList()}}},[e._v("查询")])],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"题目类型"},on:{change:function(t){return e.changeType(e.subjectType)}},model:{value:e.subjectType,callback:function(t){e.subjectType=t},expression:"subjectType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"success"}},[e._v("管理员的对题目的权限仅限为:可读")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dataListLoading,expression:"dataListLoading"}],staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""},on:{"selection-change":e.selectionChangeHandle}},[a("el-table-column",{attrs:{prop:"subjectName","header-align":"center",align:"center",label:"题目描述"}}),a("el-table-column",{attrs:{prop:"aDescribtion","header-align":"center",align:"center",label:"A选项描述"}}),a("el-table-column",{attrs:{prop:"bDescribtion","header-align":"center",align:"center",label:"B选项描述"}}),a("el-table-column",{attrs:{prop:"cDescribtion","header-align":"center",align:"center",label:"C选项描述"}}),a("el-table-column",{attrs:{prop:"dDescribtion","header-align":"center",align:"center",label:"D选项描述"}}),a("el-table-column",{attrs:{prop:"subjectImage","header-align":"center",align:"center",label:"题目图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.subjectImage}})]}}])}),a("el-table-column",{attrs:{prop:"subjectType",label:"题目类型",width:"100","filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{"disable-transitions":""}},[e._v(e._s(t.row.subjectType))])]}}])}),a("el-table-column",{attrs:{prop:"subjectAnwser","header-align":"center",align:"center",label:"题目答案"}}),a("el-table-column",{attrs:{prop:"score","header-align":"center",align:"center",label:"题目分数"}}),a("el-table-column",{attrs:{prop:"teacherName","header-align":"center",align:"center",label:"出题老师"}})],1),a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[10,20,50,100],"page-size":e.pageSize,total:e.totalPage,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.sizeChangeHandle,"current-change":e.currentChangeHandle}}),e.addOrUpdateVisible?a("add-or-update",{ref:"addOrUpdate",on:{refreshDataList:e.getDataList}}):e._e(),a("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",{staticClass:"showAnwser"},[e._v(" 对于单选题，直接输入答案 例如：A"),a("br"),e._v(" 对于多选题，直接输入答案 例如：AB(中间无任何符号隔开)"),a("br"),e._v(" 对于填空题，直接输入答案 例如：1/2"),a("br"),e._v(" 对于判断题，正确输入：√ 错误输入：× (请直接复制符号)"),a("br"),e._v(" 对于大题，需要老师判断后给予学生得分，请直接输入：略 ")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"})])],1)},i=[],s=(a("d81d"),a("99af"),a("a15b"),a("ac9f")),r={components:{AddOrUpdate:s["default"]},data:function(){return{dataForm:{key:""},dataList:[],pageIndex:1,pageSize:10,totalPage:0,dataListLoading:!1,dataListSelections:[],addOrUpdateVisible:!1,dialogVisible:!1,token:"",options:[{value:6,label:"全部"},{value:0,label:"单选题"},{value:1,label:"多选题"},{value:3,label:"判断题"},{value:2,label:"填空题"},{value:4,label:"简答题"}],subjectType:6}},computed:{},watch:{},methods:{changeType:function(e){console.log(e),this.getDataList()},deleteHandle:function(e){var t=this,a=e?[e]:this.dataListSelections.map((function(e){return e.id}));this.$confirm("确定对[id=".concat(a.join(","),"]进行[").concat(e?"删除":"批量删除","]操作?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.post("courseSystem/subject/delete",{ids:a},{headers:{token:t.token}}).then((function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.getDataList()}}):t.$message.error(a.msg)}))}))},showAnwser:function(){this.dialogVisible=!0},getDataList:function(){var e=this;this.dataListLoading=!0,this.$http.get("courseSystem/subject/allSubjectList",{params:{page:this.pageIndex,pageSize:this.pageSize,key:this.dataForm.key,subjectType:this.subjectType},headers:{token:this.token}}).then((function(t){var a=t.data;a&&0===a.code?(e.dataList=a.page.list,e.dataList.map((function(e){1==e.subjectType?e.subjectType="多选题":0==e.subjectType?e.subjectType="单选题":2==e.subjectType?e.subjectType="填空题":3==e.subjectType?e.subjectType="判断题":4==e.subjectType&&(e.subjectType="简答题")})),e.totalPage=a.page.totalCount):(e.dataList=[],e.totalPage=0),e.dataListLoading=!1}))},sizeChangeHandle:function(e){this.pageSize=e,this.pageIndex=1,this.getDataList()},currentChangeHandle:function(e){this.pageIndex=e,this.getDataList()},selectionChangeHandle:function(e){this.dataListSelections=e},addOrUpdateHandle:function(e){var t=this;this.addOrUpdateVisible=!0,this.$nextTick((function(){t.$refs.addOrUpdate.init(e)}))}},created:function(){this.token=this.$store.state.user.token,console.log(this.token),this.getDataList()},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},n=r,l=(a("677c"),a("2877")),c=Object(l["a"])(n,o,i,!1,null,"c5db8de0",null);t["default"]=c.exports},"677c":function(e,t,a){"use strict";a("9bb0")},"99af":function(e,t,a){"use strict";var o=a("23e7"),i=a("da84"),s=a("d039"),r=a("e8b5"),n=a("861d"),l=a("7b0b"),c=a("07fa"),d=a("8418"),u=a("65f0"),b=a("1dde"),m=a("b622"),p=a("2d00"),g=m("isConcatSpreadable"),f=9007199254740991,h="Maximum allowed index exceeded",j=i.TypeError,v=p>=51||!s((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),y=b("concat"),F=function(e){if(!n(e))return!1;var t=e[g];return void 0!==t?!!t:r(e)},k=!v||!y;o({target:"Array",proto:!0,forced:k},{concat:function(e){var t,a,o,i,s,r=l(this),n=u(r,0),b=0;for(t=-1,o=arguments.length;t<o;t++)if(s=-1===t?r:arguments[t],F(s)){if(i=c(s),b+i>f)throw j(h);for(a=0;a<i;a++,b++)a in s&&d(n,b,s[a])}else{if(b>=f)throw j(h);d(n,b++,s)}return n.length=b,n}})},"9bb0":function(e,t,a){},a15b:function(e,t,a){"use strict";var o=a("23e7"),i=a("e330"),s=a("44ad"),r=a("fc6a"),n=a("a640"),l=i([].join),c=s!=Object,d=n("join",",");o({target:"Array",proto:!0,forced:c||!d},{join:function(e){return l(r(this),void 0===e?",":e)}})},ac9f:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"题目描述",prop:"subjectName"}},[a("el-input",{attrs:{placeholder:"题目描述"},model:{value:e.dataForm.subjectName,callback:function(t){e.$set(e.dataForm,"subjectName",t)},expression:"dataForm.subjectName"}})],1),a("el-form-item",{attrs:{label:"A选项描述",prop:"aDescribtion"}},[a("el-input",{attrs:{placeholder:"A选项描述"},model:{value:e.dataForm.aDescribtion,callback:function(t){e.$set(e.dataForm,"aDescribtion",t)},expression:"dataForm.aDescribtion"}})],1),a("el-form-item",{attrs:{label:"B选项描述",prop:"bDescribtion"}},[a("el-input",{attrs:{placeholder:"B选项描述"},model:{value:e.dataForm.bDescribtion,callback:function(t){e.$set(e.dataForm,"bDescribtion",t)},expression:"dataForm.bDescribtion"}})],1),a("el-form-item",{attrs:{label:"C选项描述",prop:"cDescribtion"}},[a("el-input",{attrs:{placeholder:"C选项描述"},model:{value:e.dataForm.cDescribtion,callback:function(t){e.$set(e.dataForm,"cDescribtion",t)},expression:"dataForm.cDescribtion"}})],1),a("el-form-item",{attrs:{label:"D选项描述",prop:"dDescribtion"}},[a("el-input",{attrs:{placeholder:"D选项描述"},model:{value:e.dataForm.dDescribtion,callback:function(t){e.$set(e.dataForm,"dDescribtion",t)},expression:"dataForm.dDescribtion"}})],1),a("el-form-item",{attrs:{label:"题目描述",prop:"subjectImage"}},[a("el-upload",{attrs:{action:"http://175.178.189.129:11000/uploadFile/subjectImage","on-success":e.uploadSuccess,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),a("el-form-item",{attrs:{label:"题目类型",prop:"subjectType"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.dataForm.subjectType,callback:function(t){e.$set(e.dataForm,"subjectType",t)},expression:"dataForm.subjectType"}},e._l(e.subjectTypeOptions,(function(t,o){return a("el-radio",{key:o,attrs:{label:t.value,disabled:t.disabled},model:{value:e.dataForm.subjectType,callback:function(t){e.$set(e.dataForm,"subjectType",t)},expression:"dataForm.subjectType"}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"题目答案",prop:"subjectAnwser"}},[a("el-input",{attrs:{placeholder:"题目答案"},model:{value:e.dataForm.subjectAnwser,callback:function(t){e.$set(e.dataForm,"subjectAnwser",t)},expression:"dataForm.subjectAnwser"}})],1),a("el-form-item",{attrs:{label:"题目分数",prop:"score"}},[a("el-input-number",{attrs:{min:1,max:100,label:"请输入题目分数"},model:{value:e.dataForm.score,callback:function(t){e.$set(e.dataForm,"score",t)},expression:"dataForm.score"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},i=[],s={data:function(){return{token:"",dialogImageUrl:"",dialogVisible:!1,subjectTypeOptions:[{label:"单选题",value:0},{label:"多选题",value:1},{label:"填空题",value:2},{label:"判断题",value:3},{label:"简答题",value:4}],visible:!1,uploadImageFirst:!0,dataForm:{id:0,subjectName:"",aDescribtion:"",bDescribtion:"",cDescribtion:"",dDescribtion:"",subjectImage:"",subjectType:"",subjectAnwser:"",catagoryId:"",score:void 0},dataRule:{subjectName:[{required:!0,message:"题目描述不能为空",trigger:"blur"}],subjectType:[{required:!0,message:"题目类型 0-单选 1-多选题 2-填空题 3-判断题 4-大题不能为空",trigger:"blur"}],subjectAnwser:[{required:!0,message:"题目答案不能为空",trigger:"blur"}],score:[{required:!0,message:"题目分数必须填写",trigger:"blur"}]}}},methods:{uploadSuccess:function(e,t,a){console.log(e),this.dataForm.subjectImage=e.data,console.log(this.dataForm.subjectImage)},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},init:function(e){var t=this;this.dataForm.id=e||0,this.visible=!0,this.$nextTick((function(){t.$refs["dataForm"].resetFields(),t.dataForm.id&&t.$http.get("courseSystem/subject/info/".concat(t.dataForm.id),{headers:{token:t.token}}).then((function(e){var a=e.data;a&&0===a.code&&(t.dataForm.subjectName=a.subject.subjectName,t.dataForm.aDescribtion=a.subject.aDescribtion,t.dataForm.bDescribtion=a.subject.bDescribtion,t.dataForm.cDescribtion=a.subject.cDescribtion,t.dataForm.dDescribtion=a.subject.dDescribtion,t.dataForm.subjectImage=a.subject.subjectImage,t.dataForm.subjectType=a.subject.subjectType,t.dataForm.subjectAnwser=a.subject.subjectAnwser,t.dataForm.catagoryId=a.subject.catagoryId,t.dialogImageUrl=a.subject.subjectImage,t.dataForm.score=a.subject.score)}))}))},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&e.$http.post("courseSystem/subject/".concat(e.dataForm.id?"update":"save"),{id:e.dataForm.id||void 0,subjectName:e.dataForm.subjectName,aDescribtion:e.dataForm.aDescribtion,bDescribtion:e.dataForm.bDescribtion,cDescribtion:e.dataForm.cDescribtion,dDescribtion:e.dataForm.dDescribtion,subjectImage:e.dataForm.subjectImage,subjectType:e.dataForm.subjectType,subjectAnwser:e.dataForm.subjectAnwser,catagoryId:e.dataForm.catagoryId,score:e.dataForm.score},{headers:{token:e.token}}).then((function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(a.msg)}))}))}},created:function(){this.token=this.$store.state.user.token,console.log(this.token)}},r=s,n=a("2877"),l=Object(n["a"])(r,o,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-74cfd786.72f528b5.js.map