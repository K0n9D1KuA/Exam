(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2133e5"],{ac9f:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dataForm.id?"修改":"新增","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"dataForm",attrs:{model:e.dataForm,rules:e.dataRule,"label-width":"80px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.dataFormSubmit()}}},[a("el-form-item",{attrs:{label:"题目描述",prop:"subjectName"}},[a("el-input",{attrs:{placeholder:"题目描述"},model:{value:e.dataForm.subjectName,callback:function(t){e.$set(e.dataForm,"subjectName",t)},expression:"dataForm.subjectName"}})],1),a("el-form-item",{attrs:{label:"A选项描述",prop:"aDescribtion"}},[a("el-input",{attrs:{placeholder:"A选项描述"},model:{value:e.dataForm.aDescribtion,callback:function(t){e.$set(e.dataForm,"aDescribtion",t)},expression:"dataForm.aDescribtion"}})],1),a("el-form-item",{attrs:{label:"B选项描述",prop:"bDescribtion"}},[a("el-input",{attrs:{placeholder:"B选项描述"},model:{value:e.dataForm.bDescribtion,callback:function(t){e.$set(e.dataForm,"bDescribtion",t)},expression:"dataForm.bDescribtion"}})],1),a("el-form-item",{attrs:{label:"C选项描述",prop:"cDescribtion"}},[a("el-input",{attrs:{placeholder:"C选项描述"},model:{value:e.dataForm.cDescribtion,callback:function(t){e.$set(e.dataForm,"cDescribtion",t)},expression:"dataForm.cDescribtion"}})],1),a("el-form-item",{attrs:{label:"D选项描述",prop:"dDescribtion"}},[a("el-input",{attrs:{placeholder:"D选项描述"},model:{value:e.dataForm.dDescribtion,callback:function(t){e.$set(e.dataForm,"dDescribtion",t)},expression:"dataForm.dDescribtion"}})],1),a("el-form-item",{attrs:{label:"题目描述",prop:"subjectImage"}},[a("el-upload",{attrs:{action:"http://175.178.189.129:11000/uploadFile/subjectImage","on-success":e.uploadSuccess,"list-type":"picture-card","on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1),a("el-form-item",{attrs:{label:"题目类型",prop:"subjectType"}},[a("el-radio-group",{attrs:{size:"medium"},model:{value:e.dataForm.subjectType,callback:function(t){e.$set(e.dataForm,"subjectType",t)},expression:"dataForm.subjectType"}},e._l(e.subjectTypeOptions,(function(t,o){return a("el-radio",{key:o,attrs:{label:t.value,disabled:t.disabled},model:{value:e.dataForm.subjectType,callback:function(t){e.$set(e.dataForm,"subjectType",t)},expression:"dataForm.subjectType"}},[e._v(e._s(t.label))])})),1)],1),a("el-form-item",{attrs:{label:"题目答案",prop:"subjectAnwser"}},[a("el-input",{attrs:{placeholder:"题目答案"},model:{value:e.dataForm.subjectAnwser,callback:function(t){e.$set(e.dataForm,"subjectAnwser",t)},expression:"dataForm.subjectAnwser"}})],1),a("el-form-item",{attrs:{label:"题目分数",prop:"score"}},[a("el-input-number",{attrs:{min:1,max:100,label:"请输入题目分数"},model:{value:e.dataForm.score,callback:function(t){e.$set(e.dataForm,"score",t)},expression:"dataForm.score"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.dataFormSubmit()}}},[e._v("确定")])],1)],1)},s=[],r={data:function(){return{token:"",dialogImageUrl:"",dialogVisible:!1,subjectTypeOptions:[{label:"单选题",value:0},{label:"多选题",value:1},{label:"填空题",value:2},{label:"判断题",value:3},{label:"简答题",value:4}],visible:!1,uploadImageFirst:!0,dataForm:{id:0,subjectName:"",aDescribtion:"",bDescribtion:"",cDescribtion:"",dDescribtion:"",subjectImage:"",subjectType:"",subjectAnwser:"",catagoryId:"",score:void 0},dataRule:{subjectName:[{required:!0,message:"题目描述不能为空",trigger:"blur"}],subjectType:[{required:!0,message:"题目类型 0-单选 1-多选题 2-填空题 3-判断题 4-大题不能为空",trigger:"blur"}],subjectAnwser:[{required:!0,message:"题目答案不能为空",trigger:"blur"}],score:[{required:!0,message:"题目分数必须填写",trigger:"blur"}]}}},methods:{uploadSuccess:function(e,t,a){console.log(e),this.dataForm.subjectImage=e.data,console.log(this.dataForm.subjectImage)},handleRemove:function(e,t){console.log(e,t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},init:function(e){var t=this;this.dataForm.id=e||0,this.visible=!0,this.$nextTick((function(){t.$refs["dataForm"].resetFields(),t.dataForm.id&&t.$http.get("courseSystem/subject/info/".concat(t.dataForm.id),{headers:{token:t.token}}).then((function(e){var a=e.data;a&&0===a.code&&(t.dataForm.subjectName=a.subject.subjectName,t.dataForm.aDescribtion=a.subject.aDescribtion,t.dataForm.bDescribtion=a.subject.bDescribtion,t.dataForm.cDescribtion=a.subject.cDescribtion,t.dataForm.dDescribtion=a.subject.dDescribtion,t.dataForm.subjectImage=a.subject.subjectImage,t.dataForm.subjectType=a.subject.subjectType,t.dataForm.subjectAnwser=a.subject.subjectAnwser,t.dataForm.catagoryId=a.subject.catagoryId,t.dialogImageUrl=a.subject.subjectImage,t.dataForm.score=a.subject.score)}))}))},dataFormSubmit:function(){var e=this;this.$refs["dataForm"].validate((function(t){t&&e.$http.post("courseSystem/subject/".concat(e.dataForm.id?"update":"save"),{id:e.dataForm.id||void 0,subjectName:e.dataForm.subjectName,aDescribtion:e.dataForm.aDescribtion,bDescribtion:e.dataForm.bDescribtion,cDescribtion:e.dataForm.cDescribtion,dDescribtion:e.dataForm.dDescribtion,subjectImage:e.dataForm.subjectImage,subjectType:e.dataForm.subjectType,subjectAnwser:e.dataForm.subjectAnwser,catagoryId:e.dataForm.catagoryId,score:e.dataForm.score},{headers:{token:e.token}}).then((function(t){var a=t.data;a&&0===a.code?e.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){e.visible=!1,e.$emit("refreshDataList")}}):e.$message.error(a.msg)}))}))}},created:function(){this.token=this.$store.state.user.token,console.log(this.token)}},i=r,c=a("2877"),l=Object(c["a"])(i,o,s,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d2133e5.b83943b0.js.map